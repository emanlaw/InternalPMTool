<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>PM Tool - Mobile Responsive Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/gantt_analytics.css">
    <link rel="stylesheet" href="/static/css/mobile-responsive.css">
    <style>
        /* Base styles from original base.html */
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background: #f4f5f7; }
        
        .header { background: #0079bf; color: white; padding: 12px 20px; display: flex; align-items: center; }
        .header h1 { margin: 0; font-size: 18px; }
        .header nav { display: flex; align-items: center; width: 100%; }
        .header a { color: white; text-decoration: none; margin-left: 20px; }
        .header a:hover { background: rgba(255,255,255,0.1); padding: 8px 12px; border-radius: 4px; }
        
        .container { padding: 20px; }
        
        /* Kanban Board Styles */
        .board { display: flex; gap: 20px; overflow-x: auto; padding: 20px 0; }
        .column { background: #ebecf0; border-radius: 8px; padding: 15px; min-width: 300px; max-width: 300px; }
        .column h3 { margin: 0 0 15px 0; font-size: 14px; font-weight: 600; color: #5e6c84; }
        
        .card { background: white; border-radius: 6px; padding: 12px; margin-bottom: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); cursor: grab; transition: box-shadow 0.2s; }
        .card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
        .card.dragging { opacity: 0.5; }
        
        .card-title { font-weight: 600; margin-bottom: 8px; color: #172b4d; }
        .card-meta { font-size: 12px; color: #5e6c84; display: flex; justify-content: space-between; align-items: center; }
        .card-assignee { background: #ddd; padding: 2px 8px; border-radius: 12px; }
        
        .priority-high { border-left: 4px solid #ff5630; }
        .priority-medium { border-left: 4px solid #ffab00; }
        .priority-low { border-left: 4px solid #36b37e; }
        
        .btn { background: #0079bf; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px; }
        .btn:hover { background: #005a8b; }
        
        .demo-note {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            color: #1976d2;
        }
        
        .features-list {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üîß PM Tool</h1>
        <nav class="nav-menu">
            <button class="mobile-nav-toggle" onclick="toggleMobileNav()" aria-label="Toggle mobile navigation">
                <span id="mobileNavIcon">‚ò∞</span>
            </button>
            <div class="nav-links" id="navLinks">
                <a href="#">Home</a>
                <a href="#">Dashboard</a>
                <a href="#">Issues</a>
                <a href="#">üìñ Stories</a>
                <a href="#">üìã Backlog</a>
                <a href="#">üèÉ‚Äç‚ôÇÔ∏è Sprints</a>
                <a href="#">üìä Gantt Chart</a>
                <a href="#">üß† Mind Map</a>
                <a href="#">üìÅ Archive</a>
                <a href="#">Analytics</a>
            </div>
            <div class="nav-user-section">
                <button onclick="toggleDarkMode()" class="dark-mode-toggle" title="Toggle Dark Mode">
                    <span id="darkModeIcon">üåô</span>
                </button>
                <a href="#">Profile</a>
                <span style="color: rgba(255,255,255,0.8);">Demo User</span>
            </div>
        </nav>
    </div>
    <div class="container">
        <div class="demo-note">
            <h3>üì± Mobile Responsive Design Demo</h3>
            <p>This page demonstrates the mobile-responsive features implemented for the PM Tool. Try resizing your browser window or viewing on different devices to see the responsive behavior.</p>
        </div>
        
        <div class="features-list">
            <h3>‚ú® Implemented Features</h3>
            <ul>
                <li><strong>üì± Mobile Navigation:</strong> Hamburger menu appears on mobile devices (‚â§768px)</li>
                <li><strong>üìã Responsive Kanban Board:</strong> Columns stack vertically on mobile for easy viewing</li>
                <li><strong>üëÜ Touch-Friendly Interactions:</strong> Enhanced touch targets and drag-and-drop support</li>
                <li><strong>üìä Adaptive Layouts:</strong> Content adjusts for phone (320px+), tablet (768px+), and desktop (1024px+)</li>
                <li><strong>‚ôø Accessibility:</strong> Focus indicators, high contrast support, and reduced motion support</li>
                <li><strong>üåô Dark Mode:</strong> Responsive dark mode with mobile optimizations</li>
            </ul>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <div>
                <h2>Sample Kanban Board</h2>
                <p style="color: #5e6c84; margin: 0;">Responsive project management interface</p>
            </div>
            <button class="btn" onclick="alert('Modal would open here - responsive on all devices!')">+ Add Card</button>
        </div>

        <div class="board">
            <!-- To Do Column -->
            <div class="column" data-status="todo">
                <h3>üìã To Do (3)</h3>
                <div class="cards-container">
                    <div class="card priority-high" draggable="true" data-card-id="1">
                        <div class="card-title">Setup Mobile Responsive Design</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Implement responsive CSS and mobile navigation</div>
                        <div class="card-meta">
                            <span class="card-assignee">Dev Team</span>
                            <span>High</span>
                        </div>
                    </div>
                    <div class="card priority-medium" draggable="true" data-card-id="2">
                        <div class="card-title">Touch-Friendly Drag & Drop</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Add native touch events for mobile devices</div>
                        <div class="card-meta">
                            <span class="card-assignee">Frontend</span>
                            <span>Medium</span>
                        </div>
                    </div>
                    <div class="card priority-low" draggable="true" data-card-id="3">
                        <div class="card-title">Mobile Performance Optimization</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Optimize loading times for mobile networks</div>
                        <div class="card-meta">
                            <span class="card-assignee">DevOps</span>
                            <span>Low</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- In Progress Column -->
            <div class="column" data-status="in_progress">
                <h3>üîÑ In Progress (2)</h3>
                <div class="cards-container">
                    <div class="card priority-high" draggable="true" data-card-id="4">
                        <div class="card-title">Responsive Modal Implementation</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Make modals work properly on all screen sizes</div>
                        <div class="card-meta">
                            <span class="card-assignee">UI/UX</span>
                            <span>High</span>
                        </div>
                    </div>
                    <div class="card priority-medium" draggable="true" data-card-id="5">
                        <div class="card-title">Table Responsiveness</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Add horizontal scrolling for mobile tables</div>
                        <div class="card-meta">
                            <span class="card-assignee">Backend</span>
                            <span>Medium</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Done Column -->
            <div class="column" data-status="done">
                <h3>‚úÖ Done (2)</h3>
                <div class="cards-container">
                    <div class="card priority-high" draggable="true" data-card-id="6">
                        <div class="card-title">Mobile-First CSS Framework</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Implement comprehensive mobile-first CSS</div>
                        <div class="card-meta">
                            <span class="card-assignee">Frontend</span>
                            <span>High</span>
                        </div>
                    </div>
                    <div class="card priority-medium" draggable="true" data-card-id="7">
                        <div class="card-title">Viewport Meta Tag</div>
                        <div class="card-description" style="font-size: 12px; color: #5e6c84; margin: 8px 0;">Add proper viewport configuration</div>
                        <div class="card-meta">
                            <span class="card-assignee">Frontend</span>
                            <span>Medium</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Mobile Navigation Toggle
        function toggleMobileNav() {
            const navLinks = document.getElementById('navLinks');
            const mobileNavIcon = document.getElementById('mobileNavIcon');
            
            navLinks.classList.toggle('mobile-open');
            
            // Update icon
            if (navLinks.classList.contains('mobile-open')) {
                mobileNavIcon.textContent = '‚úï'; // Close icon
            } else {
                mobileNavIcon.textContent = '‚ò∞'; // Hamburger icon
            }
        }
        
        // Dark Mode Functionality
        function toggleDarkMode() {
            const body = document.body;
            const icon = document.getElementById('darkModeIcon');
            
            body.classList.toggle('dark-mode');
            
            // Update icon
            if (body.classList.contains('dark-mode')) {
                icon.textContent = '‚òÄÔ∏è'; // Sun icon
                localStorage.setItem('darkMode', 'enabled');
            } else {
                icon.textContent = 'üåô'; // Moon icon
                localStorage.setItem('darkMode', 'disabled');
            }
        }
        
        // Close mobile nav when clicking outside
        document.addEventListener('click', function(event) {
            const nav = document.getElementById('navLinks');
            const toggle = document.querySelector('.mobile-nav-toggle');
            
            if (nav && toggle && !nav.contains(event.target) && !toggle.contains(event.target)) {
                nav.classList.remove('mobile-open');
                document.getElementById('mobileNavIcon').textContent = '‚ò∞';
            }
        });
        
        // Close mobile nav when clicking on a link
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const nav = document.getElementById('navLinks');
                    nav.classList.remove('mobile-open');
                    document.getElementById('mobileNavIcon').textContent = '‚ò∞';
                });
            });
            
            // Load dark mode preference
            const darkMode = localStorage.getItem('darkMode');
            const icon = document.getElementById('darkModeIcon');
            
            if (darkMode === 'enabled') {
                document.body.classList.add('dark-mode');
                if (icon) icon.textContent = '‚òÄÔ∏è';
            } else {
                if (icon) icon.textContent = 'üåô';
            }
        });

        // Basic drag and drop demo functionality
        let draggedCard = null;

        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('dragstart', (e) => {
                draggedCard = e.target;
                e.target.classList.add('dragging');
            });
            
            card.addEventListener('dragend', (e) => {
                e.target.classList.remove('dragging');
                draggedCard = null;
            });
            
            // Touch events for mobile
            card.addEventListener('touchstart', (e) => {
                draggedCard = e.currentTarget;
                setTimeout(() => {
                    if (draggedCard === e.currentTarget) {
                        e.currentTarget.classList.add('dragging');
                    }
                }, 200);
            });
        });

        document.querySelectorAll('.column').forEach(column => {
            column.addEventListener('dragover', (e) => {
                e.preventDefault();
            });
            
            column.addEventListener('drop', (e) => {
                e.preventDefault();
                if (draggedCard) {
                    column.querySelector('.cards-container').appendChild(draggedCard);
                    updateColumnCounts();
                }
            });
        });

        function updateColumnCounts() {
            document.querySelectorAll('.column').forEach(column => {
                const count = column.querySelectorAll('.card').length;
                const header = column.querySelector('h3');
                const status = column.dataset.status;
                const emoji = status === 'todo' ? 'üìã' : status === 'in_progress' ? 'üîÑ' : '‚úÖ';
                const title = status === 'todo' ? 'To Do' : status === 'in_progress' ? 'In Progress' : 'Done';
                header.textContent = `${emoji} ${title} (${count})`;
            });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>